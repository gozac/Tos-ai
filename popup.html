<!DOCTYPE html>
<html>
<head>
  <title>TL;DR - Analyseur de Conditions G√©n√©rales</title>
  <meta charset="UTF-8">
  <link rel="stylesheet" href="popup.css">
</head>
<body>
  <div class="container">
    <h1>TL;DR - Analyseur de Conditions G√©n√©rales</h1>
    
    <div class="action-bar">
      <button id="history-button" title="Voir l'historique des analyses">
        <span class="icon">üìö</span> Historique
      </button>
    </div>
    
    <div id="api-key-section">
      <h2>Cl√©s API</h2>
      <div class="tabs">
        <div class="tab-header">
          <div class="tab active" data-tab="openai">OpenAI</div>
          <div class="tab" data-tab="deepseek">Deepseek</div>
        </div>
        <div class="tab-content">
          <div class="tab-pane active" id="openai-tab">
            <p>Entrez votre cl√© API OpenAI :</p>
            <input type="password" id="openai-api-key" placeholder="sk-...">
            <button id="save-openai-key">Sauvegarder</button>
            <p id="openai-key-status" class="status"></p>
          </div>
          <div class="tab-pane" id="deepseek-tab">
            <p>Entrez votre cl√© API Deepseek :</p>
            <input type="password" id="deepseek-api-key" placeholder="sk-...">
            <button id="save-deepseek-key">Sauvegarder</button>
            <p id="deepseek-key-status" class="status"></p>
          </div>
        </div>
      </div>
      <div class="api-model-select">
        <p>S√©lectionnez le service √† utiliser :</p>
        <select id="api-service-select">
          <option value="openai">OpenAI (GPT-3.5 Turbo)</option>
          <option value="deepseek">Deepseek</option>
        </select>
      </div>
    </div>

    <div id="analysis-section">
      <h2>Analyse des Conditions G√©n√©rales</h2>
      <p>Vous pouvez coller le texte des conditions g√©n√©rales ci-dessous ou utiliser le bouton d'extraction automatique pour essayer de les d√©tecter sur la page actuelle :</p>
      
      <div class="button-group">
        <button id="extract-button">Extraire automatiquement</button>
        <button id="analyze-button">Analyser</button>
      </div>
      
      <textarea id="terms-text" rows="10" placeholder="Copiez-collez les conditions g√©n√©rales ici..."></textarea>
      
      <div id="loading" class="hidden">
        <p>Analyse en cours...</p>
        <div class="spinner"></div>
      </div>
      
      <div id="results-container" class="hidden">
        <h2>R√©sum√© des Conditions G√©n√©rales</h2>
        <div id="results"></div>
      </div>
    </div>
    
    <p class="footer">Cette extension utilise l'API OpenAI ou Deepseek pour analyser les conditions g√©n√©rales. Votre cl√© API est stock√©e localement dans votre navigateur.</p>
  </div>
  
  <script src="popup.js"></script>
</body>
</html> 